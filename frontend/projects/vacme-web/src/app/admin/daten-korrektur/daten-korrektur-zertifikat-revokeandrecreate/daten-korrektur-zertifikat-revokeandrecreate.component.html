<!--
  ~ Copyright (C) 2022 DV Bern AG, Switzerland
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<div class="daten-korrektur" *ngIf="korrekturDashboard">
    <form [formGroup]="formGroup">
        <lib-input-checkbox formControlName="forcePostzustellung"
                            key="FACH-ADMIN.DATEN_KORREKTUR.ZERTIFIKAT_FORCE_POST"></lib-input-checkbox>

        <p style="margin-bottom: 0;" translate *ngIf="postChecked()">
            OVERVIEW.IMPFAUSWEIS_REVOKE_AND_RESEND_POST_INFO</p>

        <lib-button buttonKind="primary" (clickIfEnabled)="zertifikatRevokeAndRecreate()" [disabled]="!enabled()"
                    translationKey="FACH-ADMIN.DATEN_KORREKTUR.ZERTIFIKAT_REVOKE_AND_RECREATE"></lib-button>

        <lib-button buttonKind="secondary" (clickIfEnabled)="reset()"
                    translationKey="OVERVIEW.ABBRECHEN"></lib-button>

        <lib-warningbox *ngIf="getTextLastSentZertifikatText()">
            <span>{{getTextLastSentZertifikatText()}}</span>
        </lib-warningbox>

        <lib-warningbox *ngIf="!isGueltigeSchweizerAdresse()">
            <span translate>OVERVIEW.KEINE_GUELTIGE_SCHWEIZER_ADRESSE</span>
        </lib-warningbox>
    </form>
</div>
