<!--
  ~ Copyright (C) 2022 DV Bern AG, Switzerland
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<!-- FRUEHERE IMPFUNGEN inkl. externes Zertifikat -->
<lib-accordion [initiallyOpen]="false"
               *ngIf="dashboardJax?.externGeimpft || impffolge === 'BOOSTER_IMPFUNG'">
    <span class="title" translate>FACH-APP.KONTROLLE.FRUEHERE_IMPFUNGEN</span>

    <!-- Externes Impfzertifikat -->
    <div *ngIf="dashboardJax?.externGeimpft as externGeimpft"
         class="step-1-text margin-top-30" style="display: block;">

        <h4 translate>GEIMPFT.EXTERNE_IMPFUNGEN.TITLE</h4>
        <lib-extern-geimpft-info-component [externGeimpft]="externGeimpft"></lib-extern-geimpft-info-component>

        <!-- noch nicht kontrolliert -->
        <p *ngIf="!externGeimpft.kontrolliert" class="red-text">
            <span translate>GEIMPFT.EXTERNE_IMPFUNGEN.NICHT_KONTROLLIERT</span>
        </p>
    </div>

    <!-- fruehere VacMe-Impfungen nur bei Booster anzeigen -->
    <ng-container *ngIf="impffolge === 'BOOSTER_IMPFUNG'">
        <app-geimpft-impfungen-list *ngIf="dashboardJax"
            [dashboardJax]="dashboardJax"
            [editableLastBemerkung]="false"
            [supportsImpffolgenEinsUndZwei]="supportsImpffolgenEinsUndZwei">
        </app-geimpft-impfungen-list>
    </ng-container>
</lib-accordion>
